// Copyright 2025 Shuai Zhang
// SPDX-License-Identifier: LGPL-3.0-or-later WITH LGPL-3.0-linking-exception

import "package://github.com/jdx/hk/releases/download/v1.20.0/hk@1.20.0#/Config.pkl"

nwa = new Config.Step {
  glob = "**"
  exclude =
    List(
      ".editorconfig",
      ".mise.lock",
    )
  check = "nwa config -c check"
  fix = "nwa config -c add 2>/dev/null"
}

pklFormat = new Config.Step {
  glob = "*.pkl"
  check = "pkl format -s {{files}}"
  fix = "pkl format -w {{files}}"
  stage = "*.pkl"
  batch = true
}

markdownlint_cli2 = new Config.Step {
  batch = true
  glob = "*.md"
  stage = "*.md"
  check = "markdownlint-cli2 {{files}}"
  fix = "markdownlint-cli2 --fix {{files}}"
}
